<div class="content contracts ">
  <div class="container-fluid">
    <breadcrumb [header]="title"></breadcrumb>

    <div class="col-md-2 pull-right filter-box " title="search">
      <input #name
             (keyup.enter)="onClickSearchByParam(name.value)"
             type="search"
             class="form-control input-sm"
             placeholder="search..."
             aria-controls="example"
             maxlength="20"
             minlength="1">
    </div>
  </div>
  <table class="table table-hover">
    <thead>
    <tr>
      <th class="sorting">
        <i class="fa fa-bullhorn"></i>
        {{'company' | capitalize}}
        <a (click)="sortBy('provider.name')">
          <span class="fa fa-fw fa-sort"></span>
        </a>
      </th>
      <th class="sorting">
        <i class=" fa fa-calendar"></i>
        {{'dateStart' | capitalize}}
        <a (click)="sortBy('dateStart')">
          <span class="fa fa-fw fa-sort"></span>
        </a>
      </th>
      <th class="sorting">
        <i class="fa fa-calendar"></i>
        {{'dateFinish' | capitalize}}
        <a (click)="sortBy('dateFinish')">
          <span class="fa fa-fw fa-sort"></span>
        </a>
      </th>
      <th>
        <i class=" fa fa-circle fa-description"></i>
        {{'text' | capitalize}}
      </th>
      <th class="sorting">
        <i class="fa fa-money"></i>
        {{ 'price' | capitalize}}
        <a (click)="sortBy('price')">
          <span class="fa fa-fw fa-sort "></span>
        </a>
      </th>
      <th>
        <i class="fa fa-files-o"></i>
        {{'attachments' | capitalize}}
      </th>
      <th>
        <i class="fa fa-question-circle"></i>
        {{'details' | capitalize}}
      </th>
    </tr>
    </thead>
    <tbody>

    <tr *ngFor="let contract of resData">
      <td>{{ contract.provider.name }} <img style="max-height: 30px; max-width: 30px"></td>
      <td>{{ contract.dateStart }}</td>
      <td>{{ contract.dateFinish }}</td>
      <td> {{ contract.text }}</td>
      <td> {{contract.price  |  currency: contract.priceCurrency: true}}</td>
      <td>
        <div class="dropdown">
          <span class=" dropdown-toggle" id="dropdownDocs">
            <i class="fa fa-cloud-download"
                >
            </i>
          </span>
          <div class="dropdown-menu" aria-labelledby="dropdownDocs">
            <a style="padding: 5px" class="dropdown-item"
               *ngFor="let doc of contract?.attachments" href="{{doc.path}}" download>
              {{doc.fileName}}
              {{doc.path}}
            </a>
            <br>
          </div>
        </div>
      </td>
      <td>
        <div class="dropdown">
          <button class="btn btn-default dropdown-toggle" type="button" id="dropdownContract"
                  data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
            {{ 'options'}}
            <span class="caret"></span>
          </button>
          <ul class="dropdown-menu" aria-labelledby="dropdownContract">
            <li><a style="cursor: pointer" (click)="openEditModal(contract)" class="yellow">{{
              'edit'}}</a></li>
            <li><a style="cursor: pointer" (click)="openDelModal(contract.contractId)"
                   class="red"> {{ 'delete'}}</a></li>
          </ul>
        </div>
      </td>
    </tr>
    </tbody>
  </table>
  <div class="create">
    <button type="button" class="btn btn-success" (click)="openCreateModal()">
      {{ 'create' | capitalize }}
    </button>
  </div>
  <div >&nbsp;</div>
</div>
