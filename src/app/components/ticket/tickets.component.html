<div class="content container-fluid ticket" >
  <breadcrumb [header]="title"></breadcrumb>

  <div class="col-md-2 pull-right search-box">
    <input type="search"
           (keyup)="findTicketByName(findName.value)"
           #findName
           class="form-control input-sm"
           placeholder="find..."
           aria-controls="example">
  </div>

  <table class="table
                table-hover"
         style="table-layout: fixed;">
    <thead>
      <tr>
        <th class="table-size-large">
          <i class="fa fa-bullhorn"></i>
            {{'nameTicket' | capitalize}}
          <a (click)="sortBy('name')">
            <span class="fa fa-fw fa-sort"></span>
          </a>
        </th>
        <th class="table-size-medium">
          <i class=" fa fa-edit"></i>
          {{'authorTicket' | capitalize}}
          <a (click)="sortBy('user')">
            <span class="fa fa-fw fa-sort"></span>
          </a>
        </th>
        <th class="table-size-big">
          <i class=" fa fa-edit"></i>
            {{'dateTicket' | capitalize}}
          <a (click)="sortBy('time')">
            <span class="fa fa-fw fa-sort"></span>
          </a>
        </th>
        <th class="table-size-medium">
          <i class=" fa fa-edit"></i>
            {{'answer' | capitalize}}
          <a (click)="sortBy('assigned')">
            <span class="fa fa-fw fa-sort"></span>
          </a>
        </th>
        <th class="table-size-small">
          <i class=" fa fa-edit"></i>
            {{'state' | capitalize}}
          <a (click)="sortBy('state')">
            <span class="fa fa-fw fa-sort"></span>
          </a>
        </th>
        <th class="table-size-small">
          <i class=" fa fa-edit"></i>
            {{'discussed' | capitalize}}
        </th>
      </tr>
      </thead>
    <tbody>
      <tr *ngFor="let item of resData">
        <td>
          <a (click)="subTicketNavigation(item.ticketId)">
            {{item.name | capitalize}}
          </a>
        </td>
        <td class="table-text-align" >
          {{item.user.firstName | capitalize}}
          {{item.user.lastName | capitalize}}
        </td>
        <td class="table-text-align" >
          {{item.time | date:'mediumDate'}}
        </td>
        <td class="table-text-align" >
          {{item.assigned.firstName | capitalize}}
          {{item.assigned.lastName | capitalize}}
        </td>
        <td class="table-text-align" >
          <div *ngIf=" item.state == 'NEW' || item.state == '0'">
            <span class="label btn-round label-info "
                  list="assign">{{ 'New' }}
            </span>
          </div>
          <div *ngIf=" item.state == '1' || item.state == 'IN_PROGRESS'">
            <span class="label btn-round label-success">{{ 'In Progress' }}</span>
          </div>
          <div *ngIf=" item.state == '2' || item.state == 'DONE'">
            <span class="label btn-round label-danger">{{ 'Done' }}</span>
          </div>
        </td>
        <td class="table-text-align">
          <div *ngIf="item.discussed == null">
            {{ 'no' | capitalize}}
          </div>
          <div *ngIf="item.discussed != null">
            {{ 'yes' | capitalize}}
          </div>
        </td>
      </tr>
    </tbody>
  </table>

  <div class="row">
    <div class="col-sm-2
                span-group"
         style="white-space: nowrap">
      <span class="label
                   btn-round
                   label-danger
                   span-btn-group"
            (click)="findTicketByState('DONE')">{{'done' | capitalize}}</span>
      <span class="label
                   btn-round
                   label-success
                   span-btn-group"
            (click)="findTicketByState('IN_PROGRESS')">{{ 'in Progress' | capitalize}}</span>
      <span class="label
                   btn-round
                   label-info
                   span-btn-group"
            (click)="findTicketByState('NEW')">{{'new' | capitalize}}</span>
    </div>
    <div class="btn-group
                pull-right
                btn-find-group"
         role="group"
         aria-label="...">
      <button type="button"
              (click)="getTicketsByPageNum(1,10)"
              class="btn btn-default">
        All
      </button>
      <button type="button"
              (click)="findMyTickets()"
              class="btn btn-default">
        Tickets
      </button>
      <button type="button"
              (click)="findMyAssigned()"
              class="btn btn-default">
        Assign
      </button>
    </div>
  </div>
  <div>&nbsp;</div>
</div>

`
